{% extends "base.html" %}

{% block title %}Team Ranking{% endblock %}

{% block head %}
<style>
.inputs {
    display:flex;
    flex-direction: column;
    row-gap: 10px;
    margin-bottom: 20px;
}

select {
    font-size: large;
}

button {
    width: 100%;
    font-size: large;
}
</style>
{% endblock %}

{% block content %}
<h1>Select sorting categories</h1>
<div class="inputs">
    <!--category-->
    <select id="categoryInput">
        {% for key in options %}
        <option value="{{ options[key] }}">{{ key }}</option>
        {% endfor %}
    </select>
    <!--stat-->
    <select id="statInput">
        <option value="mean">Mean</option>
        <option value="median">Median</option>
        <option value="mode">Mode</option>
        <option value="highest">Highest</option>
        <option value="lowest">Lowest</option>
    </select>
    <!--sort-->
    <select id="sortInput">
        <option value="ascending">Ascending</option>
        <option value="descending" selected>Descending</option>
    </select>
</div>
<button onclick="goToRank()">Search</button>
<script>
    function goToRank(){

        let categoryFull = document.getElementById("categoryInput").value.split(",");


        let stat = document.getElementById("statInput").value;
        let sort = document.getElementById("sortInput").value;

        let url = "{{ url_for('teamRankPage') }}"+`?category=${categoryFull[0]}&stat=${stat}&sort=${sort}&reefLevel=${categoryFull[1]}`;
        window.location.href = url;
    }
</script>
{% endblock %}